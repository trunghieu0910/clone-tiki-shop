(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[203],{JtpV:function(t,e,r){"use strict";var n=r("Udjz"),c=r("mXGw"),a=r.n(c),o=r("UutA"),i=r("uEoR"),u=r("YFs1"),l=r.n(u),p=r("IF/j"),s=function(t,e){var r=null,n=null;switch(t){case 100:r=100;break;case 200:r=280;break;case 280:r=400;break;case 350:r=540;break;case 400:case 540:case 750:r=750;break;case 1080:r=1080;break;default:r=t}e&&(n=r*(e/t));return[r,n]},d=a.a.createElement,_=o.default.img.withConfig({displayName:"WebpImg__StyledImg",componentId:"sc-h3ozu8-0"})(["object-fit:contain;"]),v=Object(c.forwardRef)((function(t,e){var r=t.src,a=void 0===r?"":r,o=t.dimensions,u=void 0===o?[]:o,v=t.containerStyle,f=void 0===v?{}:v,m=t.onError,b=Object(c.useState)(!1),h=b[0],y=b[1],g=Object(c.useMemo)((function(){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];try{if(!Array.isArray(e)||l()(e))return{webpSrc1x:Object(p.e)(t),src1x:t};var r=Object(i.a)(e,3),n=r[0],c=r[1],a=r[2],o=void 0===a||a?s(n,c):[n,c],u=Object(i.a)(o,2),d=u[0],_=u[1],v=Object(p.L)(t,d,_),f=Object(p.e)(v);return{webpSrc1x:f,webpSrc2x:f,src1x:v,src2x:v}}catch(m){return{}}}(a,u)}),[a]),E=g.webpSrc1x,O=g.webpSrc2x,k=g.src1x,j=g.src2x,T="";E&&O?T="".concat(E," 1x, ").concat(O," 2x"):E&&(T=E);var x="";k&&j?x="".concat(k," 1x, ").concat(j," 2x"):k&&(x=k);var I=Object(c.useCallback)((function(){m&&"function"===typeof m&&m(),y(!0)}),[m]);return d("picture",{style:f,className:"webpimg-container"},!h&&d("source",{type:"image/webp",srcSet:T}),d(_,Object(n.a)({},t,{srcSet:x,ref:e,onError:I})))}));e.a=v},nwWP:function(t,e,r){"use strict";r.d(e,"a",(function(){return o})),r.d(e,"h",(function(){return i})),r.d(e,"f",(function(){return u})),r.d(e,"g",(function(){return l})),r.d(e,"d",(function(){return p})),r.d(e,"e",(function(){return s})),r.d(e,"n",(function(){return d})),r.d(e,"b",(function(){return _})),r.d(e,"i",(function(){return v})),r.d(e,"k",(function(){return f})),r.d(e,"o",(function(){return m})),r.d(e,"m",(function(){return b})),r.d(e,"c",(function(){return h})),r.d(e,"j",(function(){return y})),r.d(e,"l",(function(){return g}));var n=r("Qi1R"),c=r("cph9"),a="HOME",o=function(t,e,r){var o=c.a.get("_trackity");return{type:"".concat(a,"_DYNAMIC_LOAD_WIDGET"),promise:Object(n.a)({url:"".concat(t).concat(o?"&trackity_id=".concat(o):"")}),callback:e,handleError:r}},i=function(t,e){var r=c.a.get("_trackity");return{type:"".concat(a,"_HOME_WIDGET"),code:t,promise:Object(n.a)({url:e,params:{trackity_id:r}})}},u=function(t){return{type:"".concat(a,"_FETCH_EVENT_DEAL"),promise:Object(n.a)({url:"v2/widget/deals/collection",params:t},!1)}},l=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=null;if(!e)try{r=c.a.get("_trackity")}catch(i){console.log("homepage code ".concat(code),i)}var o=t.map((function(t){t.code,t.layoutType;return{url:t.url,params:{trackity_id:r},method:"GET"}}));return{type:"".concat(a,"_FETCH_FIRST_SCREEN_DATA_DYNAMIC_WIDGETS"),isServer:e,dynamicWidgets:t,promise:Object(n.a)(o,e)}},p=function(t,e,r){var o=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=null;if(!o)try{i=c.a.get("_trackity")}catch(u){console.log("homepage code ".concat(t),u)}return{type:"".concat(a,"_FETCH_DATA_DYNAMIC_WIDGETS"),code:t,layoutType:e,isServer:o,promise:Object(n.a)({url:r,params:{trackity_id:i}},o)}},s=function(t,e){var r=null,o={page_code:"home_page_revamp",platform:4};if(t){var i=e.split("variant_code")[0],u=e.split("variant_code")[1];u&&i&&(o.exp_id=i,o.variant_id=u)}else try{(r=c.a.get("_trackity"))&&(o.trackity_id=r)}catch(l){console.log("homepage dynamic config")}return{type:"".concat(a,"_FETCH_DATA_DYNAMIC_HOME_CONFIG_REVAMP"),promise:Object(n.a)({url:t?"".concat("https://smarter-exp.tiki.services","/v3/variant/dynamiclayout"):"".concat("https://tiki.vn/api/spectrum","/v4/enrolls"),method:"POST",data:o,timeout:500},t),isServer:t}},d=function(t){return{type:"".concat(a,"_UPDATE_DATA_DYNAMIC_HOME_CONFIG"),config:t}},_=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return{type:"".concat(a,"_CHANGE_INFINITE_SCROLL_TAB"),code:t,tabIndex:e}},v=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(!e)return{};var r=c.a.get("_trackity");return{type:"".concat(a,"_FETCH_MORE_INFINITE_SCROLL"),promise:Object(n.a)({url:e,params:{trackity_id:r}}),code:t}},f=function(t){var e=t.callback,r=t.handleError;return{type:"".concat(a,"_GET_SEP_GOD_POPUP"),promise:Object(n.a)({url:"".concat("https://api.tiki.vn","/raiden/v2/sep/god_pop_up?platform=desktop")}),callback:e,handleError:r}},m=function(t){var e=t.data,r=t.isServer;return{type:"".concat(a,"_UPDATE_SEP_GOD_POPUP"),promise:Object(n.a)({url:"".concat("https://api.tiki.vn","/raiden/v2/sep/god_pop_up"),method:"PUT",data:e},r),isServer:r}},b=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.data,r=t.callback,c=t.handleError;return{type:"".concat(a,"_CLAIM_REWARD"),promise:Object(n.a)({url:"".concat("https://api.tiki.vn","/duck/consumer/external/v1/airdrops/claim"),method:"POST",data:e}),callback:r,handleError:c}},h=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.callback,r=t.handleError;return{type:"".concat(a,"_CHECK_CLAIM_REWARD"),promise:Object(n.a)({url:"".concat("https://api.tiki.vn","/raiden/v2/sep/god_pop_up/check_air_drop"),method:"POST"}),callback:e,handleError:r}},y=function(t){var e=t.params,r=t.callback,c=t.handleError;return{type:"".concat(a,"_GET_FLOATY_INFO"),promise:Object(n.a)({url:"".concat("https://api.tiki.vn","/raiden/v2/sep/floaty?platform=desktop"),params:e}),callback:r,handleError:c}},g=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.isServer;return{type:"".concat(a,"_GET_SIDE_BAR"),promise:Object(n.a)({url:"".concat("https://api.tiki.vn","/raiden/v2/menu-config?platform=desktop")},e)}}},s9vB:function(t,e,r){"use strict";r.r(e);var n=r("mXGw"),c=r.n(n),a=r("/m4v"),o=r("dAGg"),i=r("JtpV"),u=r("YFs1"),l=r.n(u),p=r("zjXh"),s=r("nwWP"),d=r("UutA").default.div.withConfig({displayName:"styles__FloatyIconWrapper",componentId:"sc-1cqql4z-0"})(["position:fixed;display:flex;bottom:116px;right:24px;flex-direction:column;align-items:flex-end;z-index:999;.floaty-icon{width:80px;height:80px;cursor:pointer;filter:drop-shadow(0px 2px 8px rgba(40,40,43,0.16));}.close-icon{width:24px;height:24px;cursor:pointer;filter:drop-shadow(0px 2px 8px rgba(40,40,43,0.16));}"]),_=c.a.createElement;e.default=function(t){var e=t.pageName,r=Object(o.useRouter)(),c=Object(n.useState)(!1),u=c[0],v=c[1],f=Object(n.useState)({}),m=f[0],b=f[1],h=Object(a.d)(),y=Object(n.useCallback)((function(){return h(s.j.apply(void 0,arguments))}),[]);Object(n.useEffect)((function(){var t=localStorage.getItem("FLOATY_ICON_LAST_TIME");if(t){var e=parseInt(t);E(e)&&g()}else g()}),[]),Object(n.useEffect)((function(){u&&!l()(m)&&null!==m&&void 0!==m&&m.visibility&&Object(p.k)("view_floaty_icon",{screen:null===m||void 0===m?void 0:m.screen,icon:null===m||void 0===m?void 0:m.icon,campaign:null===m||void 0===m?void 0:m.campaign})}),[m,u]);var g=function(){y({params:{base:e},callback:function(t){var e=t.data;b(e),v(!0)},handleError:function(t){console.log(t)}})},E=function(t){return t<Date.now()-864e5};return u&&!l()(m)&&null!==m&&void 0!==m&&m.visibility?_(d,null,_("img",{className:"close-icon",alt:"",onClick:function(){var t=(new Date).getTime();localStorage.setItem("FLOATY_ICON_LAST_TIME",t),Object(p.k)("close_floaty_icon"),v(!1)},src:"".concat("https://frontend.tikicdn.com/_desktop-next","/static/img/icons/close-special.svg")}),_(i.a,{className:"floaty-icon",alt:"",src:null===m||void 0===m?void 0:m.icon,onClick:function(){return(t=null===m||void 0===m?void 0:m.url_path)&&"string"===typeof t?r.push(t):null;var t}})):""}}}]);